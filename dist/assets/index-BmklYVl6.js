import{b as f,o as m,d as n,e as b,f as y,h as g,m as h,i as v}from"./vendor-Cxa2g3EO.js";import{S as w,m as _}from"./vendor-markdown-BOJj3pmQ.js";import{J as x,F as S,E as O}from"./vendor-files-C23Rq7wk.js";import"./vendor-bootstrap-gnE-HsvK.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const E=(i,o)=>{const a=i.__vccOpts||i;for(const[s,e]of o)a[s]=e;return a},F={setup(){const i=y(null);let o;g(()=>{o=new w({element:i.value,spellChecker:!1,autosave:{enabled:!0,uniqueId:"myMarkdownEditor",delay:1e3},toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link","image","|","preview","side-by-side","fullscreen","|","guide"]})});const a=async()=>{const e=o.value(),t=new Date().toISOString().split("T")[0],r=h(e).toString(),c=`${t}-${r}`,l=new Blob([e],{type:"text/markdown"}),u=await s(e),d=new x;d.file(`${c}.md`,l),d.file(`${c}.pdf`,u),d.generateAsync({type:"blob"}).then(p=>{S.saveAs(p,`${c}.zip`)})},s=async e=>new Promise(t=>{const r=new O,c=_(e,{sanitize:!0});r.text(c,10,10,{maxWidth:180}),t(r.output("blob"))});return{editor:i,generateFiles:a}}},$={id:"app",class:"container mt-5"},B={class:"card shadow-sm"},M={class:"card-body"},P={ref:"editor"},k={class:"card-footer text-center"};function A(i,o,a,s,e,t){return m(),f("div",$,[n("div",B,[o[2]||(o[2]=n("div",{class:"card-header bg-primary text-white"},[n("h4",{class:"mb-0"},"Markdown 编辑器")],-1)),n("div",M,[n("textarea",P,null,512)]),n("div",k,[n("button",{class:"btn btn-success px-4",onClick:o[0]||(o[0]=(...r)=>s.generateFiles&&s.generateFiles(...r))},o[1]||(o[1]=[n("i",{class:"bi bi-download"},null,-1),b(" 生成并下载 ")]))])])])}const L=E(F,[["render",A]]);v(L).mount("#app");
